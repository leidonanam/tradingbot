
Code n√†y l√† m·ªôt bot giao d·ªãch t·ª± ƒë·ªông s·ª≠ d·ª•ng m√¥ h√¨nh LSTM (Long Short-Term Memory) ƒë·ªÉ d·ª± ƒëo√°n gi√° Bitcoin tr√™n nhi·ªÅu s√†n giao d·ªãch kh√°c nhau. N√≥ bao g·ªìm c√°c ch·ª©c nƒÉng ch√≠nh nh∆∞ thu th·∫≠p d·ªØ li·ªáu, t√≠nh to√°n ch·ªâ b√°o k·ªπ thu·∫≠t, hu·∫•n luy·ªán m√¥ h√¨nh LSTM, backtest, v√† th·ª±c hi·ªán giao d·ªãch tr·ª±c ti·∫øp.

1. C·∫•u h√¨nh & Kh·ªüi t·∫°o
logging: Ghi nh·∫≠t k√Ω qu√° tr√¨nh ch·∫°y bot.

initialize_exchange(): Cho ph√©p ch·ªçn s√†n giao d·ªãch (v√≠ d·ª•: Binance, Bitget).

EXCHANGE_NAME, API_KEY, API_SECRET, PASSWORD: Th√¥ng tin API ƒë·ªÉ k·∫øt n·ªëi v·ªõi s√†n.

2. C√°c Tham S·ªë Giao D·ªãch
symbol: C·∫∑p ti·ªÅn ƒëi·ªán t·ª≠ (BTC/USDT).

timeframe: Khung th·ªùi gian (5 ph√∫t).

capital: V·ªën ban ƒë·∫ßu (1000 USDT).

risk_per_trade: R·ªßi ro m·ªói l·ªánh (2%).

stop_loss_percent, take_profit_percent: M·ª©c c·∫Øt l·ªó (1%) v√† ch·ªët l·ªùi (3%).

short_sma_period, long_sma_period: S·ªë k·ª≥ c·ªßa SMA ng·∫Øn h·∫°n v√† d√†i h·∫°n.

rsi_period, rsi_overbought, rsi_oversold: RSI ƒë·ªÉ x√°c ƒë·ªãnh qu√° mua/qu√° b√°n.

lstm_timesteps: S·ªë b∆∞·ªõc th·ªùi gian c·ªßa m√¥ h√¨nh LSTM.

max_consecutive_losses: Ng·ª´ng giao d·ªãch sau khi thua li√™n t·ª•c X l·∫ßn.

trading_fee_percent: Ph√≠ giao d·ªãch (0.1%).

3. Thu Th·∫≠p & X·ª≠ L√Ω D·ªØ Li·ªáu
fetch_data(): L·∫•y d·ªØ li·ªáu OHLCV t·ª´ s√†n.

calculate_indicators(): T√≠nh SMA, RSI.

4. Chu·∫©n B·ªã D·ªØ Li·ªáu Cho LSTM
T·∫°o bi·∫øn m·ª•c ti√™u (target) d·ª± ƒëo√°n gi√° tƒÉng/gi·∫£m.

Chu·∫©n h√≥a d·ªØ li·ªáu b·∫±ng MinMaxScaler().

5. Hu·∫•n Luy·ªán M√¥ H√¨nh LSTM
M√¥ h√¨nh LSTM v·ªõi 2 t·∫ßng LSTM, Dropout v√† Dense(sigmoid).

D√πng binary_crossentropy ƒë·ªÉ ph√¢n lo·∫°i.

Hu·∫•n luy·ªán v·ªõi 10 epochs v√† batch size = 32.

6. Backtest (Ki·ªÉm Tra Hi·ªáu Su·∫•t Tr∆∞·ªõc Khi Giao D·ªãch Th·∫≠t)
Ch·∫°y tr√™n d·ªØ li·ªáu l·ªãch s·ª≠ ƒë·ªÉ ki·ªÉm tra ƒë·ªô ch√≠nh x√°c.

T·∫°o t√≠n hi·ªáu giao d·ªãch d·ª±a tr√™n d·ª± ƒëo√°n c·ªßa m√¥ h√¨nh.

7. Chi·∫øn L∆∞·ª£c Giao D·ªãch
N·∫øu m√¥ h√¨nh d·ª± ƒëo√°n tƒÉng, ki·ªÉm tra RSI tr∆∞·ªõc khi v√†o l·ªánh.

X√°c ƒë·ªãnh k√≠ch th∆∞·ªõc v·ªã th·∫ø v·ªõi calculate_position_size().

T·ª± ƒë·ªông c·∫Øt l·ªó/ch·ªët l·ªùi khi ƒë·∫°t ƒëi·ªÅu ki·ªán.

Gi·ªõi h·∫°n chu·ªói thua l·ªó (max_consecutive_losses) ƒë·ªÉ tr√°nh r·ªßi ro.

8. V√≤ng L·∫∑p Giao D·ªãch Ch√≠nh
Li√™n t·ª•c l·∫•y d·ªØ li·ªáu m·ªõi, d·ª± ƒëo√°n v√† th·ª±c hi·ªán giao d·ªãch.

C·∫≠p nh·∫≠t s·ªë d∆∞ v·ªën sau m·ªói giao d·ªãch.

N·∫øu b·ªã l·ªói, ghi v√†o nh·∫≠t k√Ω v√† th·ª≠ l·∫°i sau 60 gi√¢y.

9. Ch·∫°y Bot
G·ªçi trading_bot() khi script kh·ªüi ch·∫°y.

Ghi nh·∫≠t k√Ω ho·∫°t ƒë·ªông v√† tr·∫°ng th√°i v·ªën theo th·ªùi gian th·ª±c.

üöÄ C·∫£i Ti·∫øn So V·ªõi Phi√™n B·∫£n C≈©
‚úÖ H·ªó tr·ª£ nhi·ªÅu s√†n giao d·ªãch (Binance, Bitget, v.v.)
‚úÖ Gi·ªõi h·∫°n chu·ªói thua ƒë·ªÉ b·∫£o v·ªá v·ªën
‚úÖ T√≠nh ph√≠ giao d·ªãch v√†o chi·∫øn l∆∞·ª£c giao d·ªãch
‚úÖ Ghi nh·∫≠t k√Ω ho·∫°t ƒë·ªông gi√∫p theo d√µi hi·ªáu su·∫•t
‚úÖ Backtest ƒë·∫ßy ƒë·ªß tr∆∞·ªõc khi giao d·ªãch th·ª±c t·∫ø


